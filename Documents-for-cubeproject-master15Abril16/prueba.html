<html>
<head>
<script>
function ajax_post(array){
    // Create our XMLHttpRequest object
    var hr = new XMLHttpRequest();
    // Create some variables we need to send to our PHP file
    var url = "ajax.php";
    var vars = "array="+array;
    hr.open("POST", url, true);
    // Set content type header information for sending url encoded variables in the request
    hr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    // Access the onreadystatechange event for the XMLHttpRequest object
    hr.onreadystatechange = function() {
	    if(hr.readyState == 4 && hr.status == 200) {
		    var return_data = hr.responseText;
			document.getElementById("status").innerHTML = return_data;
	    }
    }
    // Send the data to PHP now... and wait for response to update the status div
    hr.send(vars); // Actually execute the request
    document.getElementById("status").innerHTML = "processing...";
}

function ajax(){
//Crea el objeto de Chasis en el arreglo de bloque

var myCar = {
  "LegoBrick": {
    "PartCode": "4168579",
    "PositionX": "6",
    "PositionZ": "1",
    "BlockType": "Normal"
  }
}	

			//alert(arrayBlock[arrayBlockCounter].PartCode);
		
			var array_demo = JSON.stringify(myCar);
			alert(array_demo);
			ajax_post(array_demo);
}

</script>
</head>
<body>
<h2>Ajax Post to PHP and Get Return Data</h2>
<input name="myBtn" type="submit" value="Submit Data" onclick="ajax();"> <br><br>
<div id="status"></div>
</body>
</html>

